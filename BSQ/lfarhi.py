from BaseLib import *
from BSQ.bsqlib import *
Config.PATH_git = GetGitPath("BSQ")
Config.normeflag = "-R CheckForbiddenSourceHeader"
Config.ExeName = "bsq"
TestDir = tempDir


Map = \
"""6.ox
.o..o...o...
..o....o..o.
o....ooo..o.
..oooooooooo
..oo......o.
..o.o.o.....
"""

Map = \
"""25.ox
.......o......................o.o..o.....o........
.........................o.................o...o..
......................................o...........
.........o.......o..........o..............o......
.........................o..o.....................
........oo.o...o....o......o............o.........
.........................................o........
.oo....o.....o...o.........o.........o........o...
...............o..o.o....o....o....o..o........o..
.o.............o...................o.......o..o...
........o.............................o...........
...o.....o................o.....o.................
oo.........o......................................
.........o.............o.....o.......o.........o..
..o..............o..o.o...........o...o.....o...o.
...o..o......o................................o...
o.o.....o.........ooo.....o.............o.........
...............o...........o....o..............o..
................o...o......o......................
...o...o.................oo..................o.o..
..o.o..o..........................................
.........o.........o....oo..........o........o...o
....................oo............o.............oo
.......o..o...o....oo......oo...........o.........
.............o....................................
"""

Map = \
"""25.ox
.........................................o........
...........o......................................
......................o.o.....o...................
.o................................................
..................................................
..o...............................................
.............................o....................
..................................................
....................o.............................
.........................o.o.o....................
..........o....o........................o.........
..................................................
..................................................
...................................o..............
..................................................
..................................................
..................................................
.............................................o....
....o..........................................o..
................o.................................
...............................o..................
....................o................o...........o
..................................................
..................................................
...............................o..................
"""

Map = \
"""25.ox
........oo........o...o..o.o..o..o.....o....o..ooo
.......o....o......oo...o....o.......o......oo.o.o
.....o.o........o..o.....o........o......oo....o..
o......o..o..oo....oo.o..oo..oo..........o.....oo.
o.....o...........o.o......o.oo.o.o...ooo.ooo.o...
.oooo.o...o..oo.o....................o.........o..
..........o....o.oo...oo.....o..o.oo..o.o.o..o..o.
o..o.oo.o.....oo.oo.o.oo....o.....oo......oo......
...o..o..o.o...o..ooo...o.o......o....o.....oo..o.
o.oo.......o...o......o...o..o.o.o.o....o.oo......
.......ooo.oo.....o......o..o....o...o.o...o...o..
..oo.......oo.o...o.o.o.oooo.......oo.oo..oo......
..o.o.oo..........oo...o........oo..o....o.o......
...o....o..o........o.ooo..o.ooo........o.o..o.o..
o.o.o.o..o.o..........o...........ooo...oo....o...
.oo.oo......o.o..o.oo..o.oo...o.o.ooo.o...........
.oo...o.ooo......oooooo.o.....o..oooo.....oo...o.o
..........o....oo..o.....o.....oo...o..o......o...
......o..............o..oo.ooo.oo.oo...o.oo....o.o
..oo.o.....oo..oo......o.....o......oooo.o..oo....
o..o....o..o........o...o......o...oo...o..oo..o.o
..oo.o.o.o.......ooo...ooo..o.oo.o.........o..o...
.....o......o..o.oo.o...o..o.o...oo.............oo
...o.oo......o...oo........ooo.o.o..oo.....oo..o..
o.o.ooo.o..o..o...o.......o....o...o...oo......o..
"""


#GenMap(50//4,25//4, 6) 
Map2 = \
"""6.ox
..oo..oo..o.
.oooo.o...oo
o.o.....o..o
oo..o.o.o..o
oooo....oo..
.o.oo.ooo..o
"""

Map2 = \
"""25012
01001000000001010000000000000000000010000111000110
00000011010001001000101000000101000000110010010000
00000000000000000010000111000110000010100100000110
10001000100100000000101000010000111010000000000010
00101001001101001101110010010000000000000000000010
01000000001000000100001000010001001000100000001110
01000011010000001001010000000000010100100100010000
10001001100100001000001000000011100010010100000100
10000000000110000100010000000101001001011000000001
00000000000100010101000010000010000000000000010000
00100011110010000001000100100000000000000000000110
10000000000001010000000100001100110100000100000000
10000110110000100000000000001000010100001001001001
00000000001001111100011000100001001100000000010000
01100000000010000010011000000010000101000000000000
10110100000000010010000000001000000100101000001101
01110010010101000000000010010000100000100000000000
11000000100000000000110010000000000000000000000101
10000010000010000000000000001000000000000000001000
00101100010010000110100000000000000000000000000000
11001010000000000100000010001001110110100010111000
00000000110000000001000001000000001000000000001100
01001000001000001000000000100000010000000010000000
01000000010001001001000100100111100000000000000001
01010010100000000110000000000000000000100001000000
"""

Map2 = \
"""25.ox
.xxxx...oo........o...o..o.o..o..o.....o....o..ooo
.xxxx..o....o......oo...o....o.......o......oo.o.o
.xxxxo.o........o..o.....o........o......oo....o..
oxxxx..o..o..oo....oo.o..oo..oo..........o.....oo.
o.....o...........o.o......o.oo.o.o...ooo.ooo.o...
.oooo.o...o..oo.o....................o.........o..
..........o....o.oo...oo.....o..o.oo..o.o.o..o..o.
o..o.oo.o.....oo.oo.o.oo....o.....oo......oo......
...o..o..o.o...o..ooo...o.o......o....o.....oo..o.
o.oo.......o...o......o...o..o.o.o.o....o.oo......
.......ooo.oo.....o......o..o....o...o.o...o...o..
..oo.......oo.o...o.o.o.oooo.......oo.oo..oo......
..o.o.oo..........oo...o........oo..o....o.o......
...o....o..o........o.ooo..o.ooo........o.o..o.o..
o.o.o.o..o.o..........o...........ooo...oo....o...
.oo.oo......o.o..o.oo..o.oo...o.o.ooo.o...........
.oo...o.ooo......oooooo.o.....o..oooo.....oo...o.o
..........o....oo..o.....o.....oo...o..o......o...
......o..............o..oo.ooo.oo.oo...o.oo....o.o
..oo.o.....oo..oo......o.....o......oooo.o..oo....
o..o....o..o........o...o......o...oo...o..oo..o.o
..oo.o.o.o.......ooo...ooo..o.oo.o.........o..o...
.....o......o..o.oo.o...o..o.o...oo.............oo
...o.oo......o...oo........ooo.o.o..oo.....oo..o..
o.o.ooo.o..o..o...o.......o....o...o...oo......o..
"""


def Init():
    print("Init Lfarhi")
    PrintColor(GenMap(50, 25, 10),color_blue)
    #PrintColor(WriteMap(Map),color_blue)

valgrind = False
def Execute():
    print("Execute Lfarhi")
    if valgrind:
        res = ExecuteCode(exc=["valgrind"],args=["map.txt"],returnAll = True, cat_e = True)
        CheckMemory(res.stderr)
    else:
        res = ExecuteCode(exc=["time"],args=["map.txt"],returnAll = True, cat_e = True)
        print(res.stderr)
"""
def Execute():
    print("Execute Lfarhi")
    res = ExecuteCode(exc=["valgrind"],args=[],returnAll = True, cat_e = True)
    CheckMemory(res.stderr)
"""
"""
def Init():
    print("Init Lfarhi")
    for i in range(1000):
        PrintColor(GenMap(100,100, 50, "map"+str(i)+".txt"),color_blue)
    #PrintColor(WriteMap(Map),color_blue)

valgrind = False
def Execute():
    print("Execute Lfarhi")
    maps = []
    for i in range(1000):
        maps.append("map"+str(i)+".txt")
    if valgrind:
        res = ExecuteCode(exc=["valgrind"],args=maps,returnAll = True, cat_e = True)
    else:
        res = ExecuteCode(exc=["time"],args=maps,returnAll = True, cat_e = True)
    CheckMemory(res.stderr)
"""