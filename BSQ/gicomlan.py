from BaseLib import *
from BSQ.bsqlib import *
Config.PATH_git = GetGitPath("BSQ")
TestDir = tempDir

maping =\
"""25.ox
o..............o.........
................o........
...............o...o....o
.............o..........o
..o..........ooo.........
................o........
..................o......
.....o.............o.....
o...................o....
.................o.......
.........o..........o.o..
..............o......oo..
....o.................o..
............o.........o..
....o....o..o............
............o.....o......
..................o......
.o......o.o........o.o...
.........................
..........o......o.o.....
.o..............o....oo.o
.......o..o....o.....o.o.
o......o...oo.....o.....o
.................o.......
.........................
"""

maping =\
"""25.ox
o..............o.........
................o........
...............o...o....o
.............o..........o
..o..........ooo.........
................o........
..................o......
.....o.............o.....
o...................o....
.................o.......
.........o..........o.o..
..............o......oo..
....o.................o..
............o.........o..
....o....o..o............
............o.....o......
..................o......
.o......o.o........o.o...
.........................
..........o......o.o.....
.o..............o....oo.o
.......o..o....o.....o.o.
o......o...oo.....o.....o
.................o.......
.........................
"""

def Init():
    print("Init Gicomlan")
    PrintColor(GenMap(25,25, 5),color_blue)
    with open(Join(TestDir,"map.txt"), "w") as fic:
        fic.write(maping)

def Execute():
    print("Execute Gicomlan")
    #ExecuteCode(args=["map.txt"], cat_e = True)
    res = ExecuteCode(exc=["valgrind"],args=["map.txt"],returnAll = True, cat_e = True)
    CheckMemory(res.stderr)